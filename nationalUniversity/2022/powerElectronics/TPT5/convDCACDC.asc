Version 4
SHEET 1 1288 1364
WIRE -176 -96 -208 -96
WIRE -64 -96 -96 -96
WIRE -32 -96 -64 -96
WIRE 224 -32 80 -32
WIRE 448 -32 304 -32
WIRE -208 16 -208 -96
WIRE 80 80 80 -32
WIRE 112 80 80 80
WIRE 448 80 448 -32
WIRE 448 80 240 80
WIRE -208 112 -208 96
WIRE 112 112 -208 112
WIRE 336 112 240 112
WIRE 352 112 336 112
WIRE -208 128 -208 112
WIRE 64 144 32 144
WIRE 112 144 64 144
WIRE 272 144 240 144
WIRE 288 144 272 144
WIRE -640 160 -640 144
WIRE -544 160 -544 144
WIRE 64 176 32 176
WIRE 112 176 64 176
WIRE 288 176 240 176
WIRE -640 192 -640 160
WIRE -544 192 -544 160
WIRE -96 208 -128 208
WIRE 112 208 -96 208
WIRE 544 208 240 208
WIRE 112 240 -48 240
WIRE 272 240 240 240
WIRE 288 240 272 240
WIRE -128 272 -128 208
WIRE 112 272 -128 272
WIRE 352 272 240 272
WIRE 112 304 32 304
WIRE 272 304 240 304
WIRE 288 304 272 304
WIRE -640 320 -640 272
WIRE -544 320 -544 272
WIRE -208 320 -208 208
WIRE -48 320 -48 240
WIRE -128 336 -128 272
WIRE 32 336 32 304
WIRE 352 336 352 272
WIRE 448 336 448 80
WIRE 544 336 544 208
WIRE -208 464 -208 400
WIRE -128 464 -128 400
WIRE -48 464 -48 400
WIRE 32 464 32 400
WIRE 352 464 352 400
WIRE 448 464 448 400
WIRE 544 464 544 400
WIRE 656 688 544 688
WIRE 864 688 656 688
WIRE 1056 688 944 688
WIRE 1120 688 1056 688
WIRE 1152 688 1120 688
WIRE 192 704 192 672
WIRE 112 720 80 720
WIRE 144 720 112 720
WIRE 656 800 656 688
WIRE 800 800 656 800
WIRE 896 800 864 800
WIRE 928 800 896 800
WIRE 1056 800 1056 688
WIRE 1056 800 1008 800
WIRE 192 832 192 800
WIRE 896 864 896 800
WIRE 1056 864 1056 800
WIRE 192 880 192 832
WIRE 352 880 320 880
WIRE 480 880 352 880
WIRE 544 880 544 688
WIRE 656 880 656 800
WIRE 320 960 320 880
WIRE 480 976 480 880
WIRE 544 976 544 944
WIRE 544 976 480 976
WIRE -128 992 -160 992
WIRE -64 992 -128 992
WIRE 192 992 192 960
WIRE 192 992 -64 992
WIRE 656 1008 656 944
WIRE 656 1008 480 1008
WIRE -64 1024 -64 992
WIRE 192 1024 192 992
WIRE 544 1056 544 976
WIRE 656 1056 656 1008
WIRE 896 1056 896 928
WIRE 1056 1056 1056 928
WIRE 320 1120 320 1040
WIRE 480 1120 480 1008
WIRE 480 1120 320 1120
WIRE -64 1136 -64 1088
WIRE 192 1168 192 1104
WIRE 192 1200 192 1168
WIRE 544 1264 544 1120
WIRE 656 1264 656 1120
WIRE 112 1280 80 1280
WIRE 144 1280 112 1280
WIRE 192 1328 192 1296
FLAG 448 464 0
FLAG -208 464 0
FLAG -128 464 0
FLAG -48 464 0
FLAG 32 464 0
FLAG 272 304 ref
FLAG 272 144 voa
FLAG 272 240 vob
FLAG 288 176 0
FLAG 544 464 0
FLAG 544 208 vc
FLAG 352 464 0
FLAG -64 -96 ref
FLAG 64 144 sync
FLAG 64 176 osc
FLAG -96 208 rampa
FLAG 352 272 vcc
FLAG -544 320 0
FLAG -544 160 vcc
FLAG -640 320 0
FLAG -640 160 vc
FLAG 336 112 shtdwn
FLAG 192 1328 0
FLAG 192 672 0
FLAG -64 1136 0
FLAG 544 1264 0
FLAG 656 1264 0
FLAG 1056 1056 0
FLAG 896 1056 0
FLAG 1120 688 vo
FLAG -128 992 vcc
FLAG 112 720 voa
FLAG 112 1280 vob
FLAG 192 832 vp1
FLAG 192 1168 vp2
FLAG 352 880 vsec
SYMBOL AutoGenerated\\sg3525a 176 192 R0
SYMATTR InstName U1
SYMBOL res 320 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap 464 400 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res -80 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3k
SYMBOL res -192 0 M0
SYMATTR InstName R3
SYMATTR Value {pote*(100-porc)/100}
SYMBOL res -192 112 M0
SYMATTR InstName R4
SYMATTR Value {pote*porc/100}
SYMBOL res -192 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 1k5
SYMBOL cap -144 336 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL res -64 304 R0
SYMATTR InstName R6
SYMATTR Value 3k6
SYMBOL cap 16 336 R0
SYMATTR InstName C3
SYMATTR Value 5µ
SYMBOL cap 560 400 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap 368 400 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL voltage -544 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage -640 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL cap -80 1024 R0
SYMATTR InstName C6
SYMATTR Value 4700µ
SYMBOL nmos 144 800 M180
SYMATTR InstName M1
SYMBOL nmos 144 1200 R0
SYMATTR InstName M2
SYMBOL ind2 208 864 M0
SYMATTR InstName L1
SYMATTR Value {Lpri}
SYMATTR Type ind
SYMBOL ind2 208 1008 M0
SYMATTR InstName L2
SYMATTR Value {Lpri}
SYMATTR Type ind
SYMBOL ind2 304 1056 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value {Lsec}
SYMATTR Type ind
SYMBOL diode 560 944 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 560 1120 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 672 1120 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 672 944 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode 800 816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMBOL ind 848 704 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 1µ
SYMBOL res 1024 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 470
SYMBOL cap 880 864 R0
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL cap 1040 864 R0
SYMATTR InstName C8
SYMATTR Value 1µ
TEXT 128 608 Left 2 !.param pote=1k porc=10 Lpri=2m Lsec=4m
TEXT -584 472 Left 2 !.tran 0 1m 0 startup
TEXT -288 -184 Left 2 ;.step param porc 9 99 10
TEXT 264 920 VRight 2 !K1 L3 L1 L2 1
