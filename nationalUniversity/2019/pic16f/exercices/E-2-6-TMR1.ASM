LIST P=16F887
#include <P16F887.inc>

CBLOCK 0X20
	w_temp
	sts_temp
	aux
ENDC

ORG 0 
GOTO setup
ORG 4 
GOTO INT
ORG 5 
setup	NOP
		BANKSEL OSCCON
		MOVLW B'01101100'
		MOVWF OSCCON
		BANKSEL ANSEL
		CLRF ANSEL
		CLRF ANSELH

		BANKSEL T1CON
		MOVLW B'10110000'
		MOVWF T1CON
		BANKSEL PIE1
		BSF PIE1,TMR1IE
		BSF INTCON,PEIE
main	NOP
		BANKSEL TMR1L
		MOVLW 0XDC
		MOVWF TMR1H
		MOVLW 0X0B
		MOVWF TMR1L
		BCF PIR1,TMR1IF
		BSF INTCON,GIE
		BSF T1CON,TMR1ON
		GOTO $
		GOTO main

INT		MOVWF w_temp
		SWAPF w_temp,F
		SWAPF STATUS,W
		MOVWF sts_temp
		INCF aux,F
		BTFSC aux,1
		SLEEP
		SWAPF sts_temp,W
		MOVWF STATUS
		SWAPF w_temp,W
		BCF T1CON,TMR1ON
		BCF PIR1,TMR1IF
		RETFIE
END